<view class="register-container">
  <!-- 顶部标题 -->
  <view class="header">
    <text class="title">创建账号</text>
    <text class="subtitle">当前身份：{{roleName}}</text>
  </view>
  
  <!-- 注册表单 -->
  <form bindsubmit="onSubmit">
    <view class="form-group">
      <input 
        name="nickname" 
        placeholder="昵称（2-16位汉字/英文/数字）" 
        maxlength="16" 
        value="{{nickname}}"
        bindinput="onInputNickname"
      />
      <!-- 昵称错误提示 -->
      <view wx:if="{{nicknameError}}" class="error-tip">
        {{nicknameError}}
      </view>
    </view>
    
    <view class="form-group">
      <input 
        name="email" 
        placeholder="邮箱（必须有@）" 
        type="email" 
        value="{{email}}"
        bindinput="onInputEmail"
      />
      <!-- 邮箱错误提示 -->
      <view wx:if="{{emailError}}" class="error-tip">
        {{emailError}}
      </view>
    </view>
    
    <view class="form-group">
      <input 
        name="password" 
        placeholder="密码（8-16位字母+数字）" 
        password 
        maxlength="16" 
        value="{{password}}"
        bindinput="onInputPassword"
      />
      <!-- 密码错误提示 -->
      <view wx:if="{{passwordError}}" class="error-tip">
        {{passwordError}}
      </view>
    </view>
    
    <view class="form-group">
      <input 
        name="confirmPassword" 
        placeholder="确认密码" 
        password 
        maxlength="16" 
        value="{{confirmPassword}}"
        bindinput="onInputConfirmPassword"
      />
      <!-- 密码不一致提示 -->
      <view wx:if="{{password !== confirmPassword && confirmPassword !== ''}}" class="error-tip">
        两次输入的密码不一致
      </view>
    </view>
    
    <!-- 协议同意 -->
    <view class="agreement">
      <checkbox-group bindchange="onAgreementChange">
        <label>
          <checkbox value="agreed" checked="{{agreed}}"/>
          <text>我已阅读并同意</text>
        </label>
      </checkbox-group>
      <text class="link" bindtap="showAgreement">《用户服务协议》</text>
    </view>
    
    <!-- 提交按钮 -->
    <button 
      class="submit-btn" 
      formType="submit" 
      type="primary" 
      disabled="{{!canSubmit}}"
    >
      注册
    </button>
  </form>
</view>